<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
	</head>
	<body>
        <div class="container">
            <h1 style="text-align:center; font-weight: bold;">Успеваемость студентов</h1>

            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>#</th>
                        <th>ФИО</th>
                        <th>Группа</th>
                        {% for subject in subjects %}
                            <th>{{subject}}</th>
                        {% endfor %}
                        <th>Средний балл у студента</th>
                    </tr>
                </thead>
                <tbody>
                    {% for statistics in student_statistics %}
                        <tr>
                            <th scope="row">{{statistics.student.id}}</th>
                            <td>{{statistics.student.fio}}</td>
                            <td>{{statistics.student.group}}</td>
                            {% for score in statistics.scores %}
                                <td>{{score}}</td>
                            {% endfor %}
                            <td>{{statistics.average_score}}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
        <div class="container" style="display: flex; justify-content: space-between;">
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'add_student' %}" style="color: black; text-decoration: none">Добавить студента</a></button>
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'delete_student' %}" style="color: black; text-decoration: none">Удалить студента</a></button>
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'edit_student' %}" style="color: black; text-decoration: none">Изменить студента</a></button>
        </div>
        <br>
        <div class="container" style="display: flex; justify-content: space-between;">
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'add_subject' %}" style="color: black; text-decoration: none">Добавить предмет</a></button>
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'delete_subject' %}" style="color: black; text-decoration: none">Удалить предмет</a></button>
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'edit_subject' %}" style="color: black; text-decoration: none">Изменить предмет</a></button>
        </div>
        <br>
        <div class="container" style="display: flex; justify-content: space-between;">
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'edit_score' %}" style="color: black; text-decoration: none">Изменить оценку</a></button>
            <button style="border: 3px solid black; border-radius: 10px; font-size: 20px;">
                <a href="{% url 'delete_score' %}" style="color: black; text-decoration: none">Удалить оценку</a></button>
        </div>
        <br>
        <br>
        <br>
        <div class="container">
            <h1 style="text-align:center; font-weight: bold;">Средний балл по предметам</h1>
            <table class="table table-striped">
                <thead>
                <tr>
                    <th>Предмет</th>
                    <th>Средний балл</th>
                </tr>
                </thead>
                <tbody>
                {% for subject in average_scores %}
                <tr>
                    <th scope="row">{{subject.subject}}</th>
                    <td>{{subject.average_score}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
        <br>
        <br>
        <br>
        <div class="container">
            <h1 style="text-align:center; font-weight: bold;">Отчёт о студентах</h1>
            <div class="container" style="display: flex; justify-content: center; gap: 20px;">
                <h3 style="text-align:center; font-weight: bold;">Лучший студент: {{best_student}}</h3>
            </div>
            <div class="container" style="display: flex; justify-content: center; gap: 20px;">
                <h3 style="text-align:center; font-weight: bold;">Худший студент: {{worse_student}}</h3>
            </div>
        </div>
	</body>
</html>